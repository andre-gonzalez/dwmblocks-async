#!/bin/sh

# A dwm_bar function to print the rate of CURRENCY/USD from rate.sx using rate.sx/1CURRENCY
# Creator of the project: Joe Standring <git@joestandring.com>
# Additional plugin added by Brayan de Albuquerque <brayandealbuquerque@gmail.com>
# GNU GPLv3

# Dependencies: curl

# Change the value of CURRENCY to match your currency code
ENABLED=1

dwm_currency() {
	if [ "$ENABLED" = 1 ]; then

		CURRENCY1=USD
		CURRENCY2=BRL

		RATE=$(curl -s "https://api.frankfurter.app/latest?from=$CURRENCY1&to=$CURRENCY2" | jq -r ".rates.$CURRENCY2")
		printf "ïƒ– %s" "$RATE"
	else
		exit
	fi
}

dwm_currency
